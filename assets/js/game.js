//Setting variables to be default so they can be manipulated as the game is played
let currentQuestion = {};
let acceptAnswer = false;
let score = 0;
let questionCounter = 0;
let availableQuestions = [];

// Questions generated by the API

let questions = [];

//Constants for game score and points given for correct ans
const correctPoints = 1;
const maxQuestions = 15;

//Fetching data from the API
// https://opentdb.com/api.php?amount=10

// https://opentdb.com/api.php?amount=10&category=10&difficulty=easy

// OLD syntax 
// function fetchCatagories() {
//     fetch('https://opentdb.com/api_category.php')
//         .then(function(result) {
//             return result.json()}
//         )
//         .then(function(data) {
//             return populateDropDowns(data);
//         });
// }


function fetchCatagories() {
    fetch('https://opentdb.com/api_category.php')
        .then(result => result.json())
        .then(data => {
            populateDropDowns(data);
        });
}

fetchCatagories()

function populateDropDowns(data) {
    // Select the elements by ID using Jquery
    const catagoryDropDown = $('#catagories');
    const difficultyDropDown = $('#difficulty');
    let i;
    const triviaCategories = data.trivia_categories;

    // loop trough triviaCategories array and add them to the catagories dropdown
    for (i = 0; i < triviaCategories.length; i++) {
        catagoryDropDown.append(`<option value="${triviaCategories[i].id}">${triviaCategories[i].name}</option>`);

    }
    // Appened easy to difficulty dropdown
    difficultyDropDown.append("<option value='easy'>Easy</option>");
    // Appened easy to difficulty dropdown    
    difficultyDropDown.append("<option value='medium'>Medium</option>");
    // Appened easy to difficulty dropdown
    difficultyDropDown.append("<option value='hard'>Hard</option>");
}