//Setting variables to be default so they can be manipulated as the game is played
let currentQuestion = {};
let acceptAnswer = false;
let score = 0;
let questionCounter = 0;
let availableQuestions = [];


// Questions generated by the API

let questions = [];

//Constants for game score and points given for correct ans
const correctPoints = 1;
const maxQuestions = 15;


//Fetching data from the API

function generateAnswers(data) {
    const answers = data.filter(element => {
        if (element.name === 'Sports') return element.id;
    });
    return id;
}
fetch('https://opentdb.com/api_category.php')
    .then(res => res.json())
    .then(data => {
        console.log(data);
        generateAnswers(data);
    })
    .then(data => {
        fetch(data);
    });

function fetchStuff(id) {
    fetch(`https://opentdb.com/api_count.php?category=${id}&amount=10`)
        .then(res => res.json())
        .then(data => {
            console.log(data);
        });
}



// let answers;

// fetch("https://opentdb.com/api.php?amount=10")
//     .then(res => res.json())
//     .then(data => {
//         console.log(data);
//         this.answers = data;
//         generateAnswers(data);
//     })
//     .catch(err => console.log(err));

// function generateAnswers(questions) {
//     questions.trivia_categories.forEach(element => {
//         fetchNewData(element.id[23]);
//     });
// }

// let answers_string = JSON.parse(answers);
// console.log(answers_string);

// /*
// function fetchNewData(id) {
//     fetch(`https://opentdb.com/api.php?amount=10&category=${id}`).then(res =>
//         res.json().then(data => console.log(data))
//     );
// }*/

// let jsondata;

// fetch("https://opentdb.com/api.php?amount=10")
//     .then(res => res.json())
//     .then(data => {
//         console.log(data);
//         this.answers = data;
//         generateAnswers(data);
//     })

// function generateQuestions(array, categoryName, difficultyLevel) {
//     let i = 0;
//     for (i = 0; i < array.length; i++) {
//         if (array[i].category === categoryName && array[i].difficulty === difficultyLevel) {
//             console.log(array[i]);
//         }
//     }
// }

// generateQuestions(jsondata.results, 'Sports', 'medium');


//shuffling of array

// function shuffle(arra1) {
//     var ctr = arra1.length, temp, index;

// // While there are elements in the array
//     while (ctr > 0) {
// // Pick a random index
//         index = Math.floor(Math.random() * ctr);
// // Decrease ctr by 1
//         ctr--;
// // And swap the last element with it
//         temp = arra1[ctr];
//         arra1[ctr] = arra1[index];
//         arra1[index] = temp;
//     }
//     return arra1;
// }
// generateQuestions(shuffle(jsondata.results), 'Sports', 'medium');